---
created: 2026-01-01 15:20
updated: 2026-01-02 23:21
tags:
  - linux
  - DevOps
status: seed
aliases:
---

返回 [Linux 基础](../30_Maps/Linux%20基础.md)

## 1. `top`

功能：老牌的性能分析工具，实时监控 CPU、内存和进程状态。

常用交互（在界面中按键）：

```bash
top           # 启动
# 常用快捷键：
# P (大写) - 按 CPU 使用率排序（找最耗 CPU 的进程）
# M (大写) - 按内存使用率排序（找最耗内存的进程）
# 1 (数字) - 显示所有 CPU 核心的负载情况
# q       - 退出
```

---

## 2. `kill`

功能：发送信号给进程，通常用于终止进程。

常见用法：

```bash
kill 1234           # 温柔地结束 PID 为 1234 的进程（发送 SIGTERM）
kill -9 1234        # 强制杀死进程（发送 SIGKILL，进程无法拒绝，最后手段）
killall nginx       # 根据进程名杀死所有进程（不用找 PID，很方便但需小心）
```

---

## 3. `htop`

功能：`top` 的增强版。彩色界面更人性化，支持鼠标操作，自带垂直滚动。

常见用法：

```bash
htop
# 界面操作：
# F6：选择排序方式（CPU/MEM）
# F9：直接杀掉选中的进程（省去敲 kill 命令）
# F5：树状视图（查看父子进程关系）
```

---

## 4. `ps`

功能：查看进程的**静态快照**（某一时刻的状态），最常配合 `grep` 使用。

常见用法：

```bash
ps aux                      # 查看系统所有进程（标准用法）
ps aux | grep java          # 查找 java 相关的进程（最常用组合）
ps -ef | grep python        # 另一种常用格式，能看到父进程 PID (PPID)
```

---

## 5. `lsof`

功能：列出打开的文件（List Open Files）。在 Linux 中 " 一切皆文件 "，所以它能查端口、查文件占用、查网络连接。

常见用法：

```bash
# 查端口占用
lsof -i :8080               # 谁占用了 8080 端口？
lsof -i tcp                 # 列出所有 TCP 连接

# 查文件占用
lsof /var/log/syslog        # 谁正在写入这个日志文件？
lsof +D /mnt/data           # 谁在使用这个目录下的文件？（无法卸载磁盘时用）

# 查用户
lsof -u root                # 查看 root 用户打开了哪些东西
```

---

## 6. `jobs`

功能：查看当前终端会话中的后台任务列表。

常见用法：

```bash
jobs -l                     # 列出后台任务，同时显示 PID
```

输出示例：

`[1]+ 12345 Running python server.py &`

*( `[1]` 是任务号，`12345` 是 PID )*

---

## 7. `bg`

功能：Background，将 " 暂停 " 的任务放到 " 后台 " 继续运行。

场景组合：

直接运行了脚本 `python long_task.py`，发现它占用了终端无法操作。

1. 按 `Ctrl + Z`：暂停任务。
2. 输入 `bg`：让它在后台跑起来。

```bash
bg %1       # 让 1 号任务在后台继续运行
```

---

## 8. `fg`

功能：Foreground，将 " 后台 " 的任务捞回 " 前台 " 运行。

场景组合：

你想关掉刚才放到后台的那个任务，或者需要给它输入密码。

```bash
fg %1       # 把 1 号后台任务调回前台
# 此时你可以按 Ctrl+C 结束它，或者与它交互
```
